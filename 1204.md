time.i

seed
```ruby
u1 = User.create(email: 'aa@aa.aa', password: 'aa@@aa.aa')
u2 = User.create(email: 'bb@aa.aa', password: 'bb@@aa.aa')

u1.products.create(title: 'ddd', description: 'ccc', price: '66666')

u1 = User.find_by(email: "xx@aaa.cc")

User.create(email: list)

list = ['aa@aa.aa', 'bb@bb.bb', 'cc@cc.cc']

  list.each do |email|
  user = user.find_by(email:)
  if not user
    User.create(email:, password: email)
  end

  list = [1,2,3,4,5]
  list.print

  x = 1
  while x <= 5
    puts x
    x += 1
  end

  (0..5).each do |x|
    puts x
  end

  1.upto(5) do |i|
    puts i
  end

  Faker::Internet.email

  user = User.find_or_create_by(email:) do |u|
    u.password = '123456'
  end

  5.times do
    email = Faker::internet.email
    user = User.find_by(email: email)
    if not User
      user.create(email: email, password: email)
    end
  end

  user = User.find_or_create_by(email:) do |u|
    u.password = '123456'
  end

  puts "使用者:#{user.email}"

10.times do
  product = user.products.create(
    title: Faker::Book.titke,
    description: Faker::Lorem.paragraph,
    price: rand(10..100)
  )
  puts "建立商品#{user.prodct}"
  end
end

puts "資料建立完成"
```


## ajax 非同步的資料
turbolinks
turbo

#show頁面
在頁面新增view>comments>create.js.erb

`show.html.erb` 表單改成：`remote:true`

form_for: remote
form_with: local

  <!-- <h3 class="text-xl">留言</h3>

    <%= form_with(model: [@product, @comment],
                data: { turbo: false }, local: false ) do |f| %>
    <div>
    <%= f.text_area :content, class: 'input-field' %>
    </div>
    <%= f.submit %>
  <% end %>
  </section> -->

  ## n + 1問題
  
  在each裡不斷地查關聯資料

  解決辦法：
  def index
    @products = Product.includes(:user).order(id: :desc)
  end

includes把資料庫變成IN，所以一口氣撈出五個使用者，原本N+1變成1+1
    
    SQL語法：
    seletc * from users where id in (1,2,3,4,5)

modal 燈箱訊息
按下去就和後端要資料

hotwired
https://hotwired.dev

turbo系列是rails專屬

javascript 該寫在哪裡？


